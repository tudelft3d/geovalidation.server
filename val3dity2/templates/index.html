{% extends "layout.html" %}
{% block body %}

  <div class="page-header">
    <h2><img src="{{ url_for('static', filename='img/val3dity.png') }}" width=250 alt=""/><br>geometric validation of 3D primitives</h2>
  </div>
      
  <div class="well">
  <form class="form-horizontal" role="form" action="" method=post enctype=multipart/form-data>
    <div class="form-group">
      <label class="col-sm-4 control-label">Input file <i class="fa fa-question-circle" data-toggle="tooltip" title="formats accepted: GML, CityJSON, OBJ, OFF, POLY" ></i></label>
      <div class="col-sm-8">
          <div class="fileinput fileinput-new" data-provides="fileinput">
          <span class="btn btn-default btn-file"><span class="fileinput-new">Select file</span><span class="fileinput-exists">Change</span><input type="file" name="file"></span>
          <span class="fileinput-filename"></span>
          <a href="#" class="close fileinput-exists" data-dismiss="fileinput" style="float: none">&times;</a>
        </div>
      </div>
    </div> 

    <div class="container">
      <label class="col-sm-4">Validation options <i class="fa fa-caret-right" data-toggle="collapse" data-target="#seeoptions"></i></label>
      <div id="seeoptions" class="collapse">

    <hr>

    <div class="form-group">
      <label class="col-sm-4 control-label">Snap tolerance <i class="fa fa-question-circle" data-toggle="tooltip" title="if 2 points are closer than this value then we assume they are the same" ></i></label>
      <div class="col-sm-8">
        <input name="snap_tol" type="text" class="form-control" value="0.001">
      </div>
    </div>

    <div class="form-group">
      <label class="col-sm-4 control-label">Planarity tolerance <i class="fa fa-question-circle" data-toggle="tooltip" title="maximum distance between a point and a fitted plane" ></i></label>
      <div class="col-sm-8">
        <input name="planarity_d2p_tol" type="text" class="form-control" value="0.01">
      </div>
    </div>
    
    <div class="form-group">
      <label class="col-sm-4 control-label">Overlap tolerance <i class="fa fa-question-circle" data-toggle="tooltip" title="tolerance used to validate CompositeSolids and BuildingParts; -1 is disabled" ></i></label>
      <div class="col-sm-8">
        <input name="overlap_tol" type="text" class="form-control" value="-1">
      </div>
    </div>
 

    <div class="form-group">
      <label class="col-sm-4 control-label">3D primitives <i class="fa fa-question-circle" data-toggle="tooltip" title="which 3D primitives to validate?" ></i></label>
      <div class="col-sm-8">
        <div class="btn-group" data-toggle="buttons">
          <label class="btn btn-default active">
            <input type="radio" name="primitives" value="S" checked> Solids
          </label>
          <label class="btn btn-default">
            <input type="radio" name="primitives" value="MS"> MultiSurfaces 
          </label>
          <label class="btn btn-default">
            <input type="radio" name="primitives" value="CS"> CompositeSolids
          </label>
        </div>
      </div>
    </div> 

    <div class="form-group">
      <label class="col-sm-4 control-label">ignore error 204 <a href="http://val3dity.readthedocs.io/"><i class="fa fa-question-circle" data-toggle="tooltip" title="ignore error 204" ></i></a></label>
      <div class="col-sm-8">
        <div class="checkbox">
          <label>
            <input name="ignore204" type="checkbox" value="">
          </label>
        </div>
      </div>
    </div>

    <div class="form-group">
      <label class="col-sm-4 control-label">only semantic surfaces <i class="fa fa-question-circle" data-toggle="tooltip" title="use only semantic surfaces" ></i></label>
      <div class="col-sm-8">
        <div class="checkbox">
          <label>
            <input name="geom_is_sem_surfaces" type="checkbox" value="">
          </label>
        </div>
      </div>
    </div>

    <hr>

    </div>
</div>
  

    <div class="form-group">
      <div class="col-sm-offset-4 col-sm-8">
        <button type="submit" class="btn btn-default">Upload + validate</button>
      </div>
    </div>

  </form>
  <p class="version"><a href="{{ version }}">version used</a></p>
  </div>

<!--   <div class="alert alert-warning alert-dismissible" role="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    Is val3dity used a lot? <a href="{{ url_for('stats') }}">Check the statistics!</a> 
  </div>
 -->{% if problem %}
  <div class="alert alert-danger">
    <p><i class="fa fa-exclamation-triangle"></i> {{ problem }}</p>
  </div>
{% endif %}

{% endblock %}